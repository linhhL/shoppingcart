
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
  <style>
    body { font-family: Arial; max-width: 800px; margin: 40px auto; }
    input, select { width: 100%; padding: 10px; margin: 10px 0; border-radius: 6px; border: 1px solid #ccc; }
    .option-box { display: flex; gap: 20px; margin: 20px 0; }
    .option { flex: 1; border: 2px solid #ccc; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; }
    .option.selected { border-color: #007bff; background-color: #eef5ff; }
    button { padding: 12px 20px; background: black; color: white; border: none; border-radius: 6px; cursor: pointer; width: 100%; margin-top: 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h2>Checkout</h2>
  <p>Email: <strong id="emailDisplay"></strong> <a href="#" onclick="changeEmail()">Change email</a></p>
  
  <h3>Shipping & Delivery</h3>
  <div class="option-box">
    <div class="option selected" onclick="selectDelivery(this, 'ship')">ðŸšš<br>Ship to address</div>
    
  </div>

  <form id="checkoutForm" onsubmit="return saveCheckout()">
    <input type="text" placeholder="First and last name" id="name" required />
    <input type="tel" placeholder="Phone" id="phone" required />
    
    <h4>Address</h4>
    <input type="text" placeholder="Street address, apartment, suite, floor, etc" id="street" required />
    <input type="text" placeholder="City within Vietnam" id="city" required />
    <select id="province" required>
      <option value="Hanoi">Hanoi</option>
      <option value="HCMC">HCMC</option>
      <option value="Other">Other</option>
    </select>

    <button type="submit">Continue</button>
  </form>

  <script>
    document.getElementById("emailDisplay").innerText = localStorage.getItem("userEmail") || "guest@example.com";

    function changeEmail() {
      const newEmail = prompt("Enter your new email:", localStorage.getItem("userEmail"));
      if (newEmail) {
        localStorage.setItem("userEmail", newEmail);
        document.getElementById("emailDisplay").innerText = newEmail;
      }
    }

    let deliveryMethod = "ship";
    function selectDelivery(el, method) {
      document.querySelectorAll('.option').forEach(opt => opt.classList.remove("selected"));
      el.classList.add("selected");
      deliveryMethod = method;
    }

    function saveCheckout() {
      const order = {
        email: localStorage.getItem("userEmail"),
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        street: document.getElementById("street").value,
        city: document.getElementById("city").value,
        province: document.getElementById("province").value,
        delivery: deliveryMethod
      };
      localStorage.setItem("checkoutInfo", JSON.stringify(order));
      window.location.href = "https://linhhL.github.io/shoppingcart/payment16.html";
      return false;
    }
  </script>
</body>
</html>
